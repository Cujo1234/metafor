<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fail-Safe N Analysis (File Drawer Analysis) — fsn • metafor</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Fail-Safe N Analysis (File Drawer Analysis) — fsn" />

<meta property="og:description" content="Function to compute the fail-safe N (also called file drawer analysis)." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metafor</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/metafor-package.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/wviechtb">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/wviechtb/metafor">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fail-Safe N Analysis (File Drawer Analysis)</h1>
    
    <div class="hidden name"><code>fsn.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Function to compute the fail-safe N (also called file drawer analysis).</p>
    
    </div>

    <pre class="usage"><span class='fu'>fsn</span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='no'>sei</span>, <span class='no'>data</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"Rosenthal"</span>, <span class='kw'>alpha</span><span class='kw'>=</span><span class='fl'>.05</span>, <span class='no'>target</span>, <span class='no'>subset</span>, <span class='kw'>digits</span><span class='kw'>=</span><span class='fl'>4</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>yi</th>
      <td><p>vector with the observed effect sizes or outcomes. See &#8216;Details&#8217;</p></td>
    </tr>
    <tr>
      <th>vi</th>
      <td><p>vector with the corresponding sampling variances. See &#8216;Details&#8217;</p></td>
    </tr>
    <tr>
      <th>sei</th>
      <td><p>vector with the corresponding standard errors. See &#8216;Details&#8217;</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>optional data frame containing the variables given to the arguments above.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>character string indicating the method to use for the calculation of the fail-safe N. Possible options are <code>"Rosenthal"</code>, <code>"Orwin"</code>, or <code>"Rosenberg"</code>. See below for more details.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>target alpha level to use for the Rosenthal and Rosenberg methods (.05 by default).</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>target average effect size to use for the Orwin method. If undefined, then the target average effect size will be equal to the observed average effect size divided by 2.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>optional vector indicating the subset of studies that should be used for the calculation. This can be a logical vector of length \(k\) or a numeric vector indicating the indices of the observations to include.</p></td>
    </tr>
    <tr>
      <th>digits</th>
      <td><p>integer specifying the number of decimal places to which the printed results should be rounded (the default is 4).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function can be used in conjunction with any of the usual effect size or outcome measures used in meta-analyses (e.g., log risk ratios, log odds ratios, risk differences, mean differences, standardized mean differences, raw correlation coefficients, correlation coefficients transformed with Fisher's r-to-z transformation, and so on). Simply specify the observed outcomes via the <code>yi</code> argument and the corresponding sampling variances via the <code>vi</code> argument (instead of specifying <code>vi</code>, one can specify the standard errors (the square root of the sampling variances) via the <code>sei</code> argument). The <code><a href='escalc.html'>escalc</a></code> function can be used to compute a wide variety of effect size and outcome measures (and the corresponding sampling variances) based on summary statistics.</p>
<p>The Rosenthal method (sometimes called a &#8216;file drawer analysis&#8217;) calculates the number of studies averaging null results that would have to be added to the given set of observed outcomes to reduce the combined significance level (p-value) to a target alpha level (e.g., .05). The calculation is based on Stouffer's method to combine p-values and is described in Rosenthal (1979).</p>
<p>The Orwin method calculates the number of studies averaging null results that would have to be added to the given set of observed outcomes to reduce the (unweighted) average effect size to a target (unweighted) average effect size. The method is described in Orwin (1983).</p>
<p>The Rosenberg method calculates the number of studies averaging null results that would have to be added to the given set of observed outcomes to reduce significance level (p-value) of the (weighted) average effect size (based on a fixed-effects model) to a target alpha level (e.g., .05). The method is described in Rosenberg (2005).</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>"fsn"</code>. The object is a list containing the following components:</p>
<dt>type</dt><dd><p>the method used.</p></dd>
   <dt>fsnum</dt><dd><p>the calculated fail-safe N.</p></dd>
   <dt>alpha</dt><dd><p>the target alpha level.</p></dd>
   <dt>pval</dt><dd><p>the p-value of the observed results. <code>NA</code> for the Orwin method.</p></dd>
   <dt>meanes</dt><dd><p>the average effect size of the observed results. <code>NA</code> for the Rosenthal method.</p></dd>
   <dt>target</dt><dd><p>the target effect size. <code>NA</code> for the Rosenthal and Rosenberg methods.</p></dd>

   The results are formatted and printed with the <a href='print.fsn.html'>print.fsn</a> function.

    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For the Rosenberg method, the p-value is calculated based on a standard normal distribution (instead of a t-distribution, as suggested by Rosenberg, 2005).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Rosenthal, R. (1979). The "file drawer problem" and tolerance for null results. <em>Psychological Bulletin</em>, <b>86</b>, 638--641.</p>
<p>Orwin, R. G. (1983). A fail-safe N for effect size in meta-analysis. <em>Journal of Educational Statistics</em>, <b>8</b>, 157--159.</p>
<p>Rosenberg, M. S. (2005). The file-drawer problem revisited: A general weighted method for calculating fail-safe numbers in meta-analysis. <em>Evolution</em>, <b>59</b>, 464--468.</p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1--48. <a href='http://www.jstatsoft.org/v36/i03/'>http://www.jstatsoft.org/v36/i03/</a>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ranktest.html'>ranktest</a></code>, <code><a href='regtest.html'>regtest</a></code>, <code><a href='trimfill.html'>trimfill</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### calculate log risk ratios and corresponding sampling variances</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='escalc.html'>escalc</a></span>(<span class='kw'>measure</span><span class='kw'>=</span><span class='st'>"RR"</span>, <span class='kw'>ai</span><span class='kw'>=</span><span class='no'>tpos</span>, <span class='kw'>bi</span><span class='kw'>=</span><span class='no'>tneg</span>, <span class='kw'>ci</span><span class='kw'>=</span><span class='no'>cpos</span>, <span class='kw'>di</span><span class='kw'>=</span><span class='no'>cneg</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat.bcg</span>)

<span class='fu'>fsn</span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>)</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Rosenthal Approach
#&gt; 
#&gt; Observed Significance Level: &lt;.0001
#&gt; Target Significance Level:   0.05
#&gt; 
#&gt; Fail-safe N: 598
#&gt; </div><div class='input'><span class='fu'>fsn</span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"Orwin"</span>)</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Orwin Approach
#&gt; 
#&gt; Average Effect Size: -0.7407
#&gt; Target Effect Size:  -0.3703
#&gt; 
#&gt; Fail-safe N: 14
#&gt; </div><div class='input'><span class='fu'>fsn</span>(<span class='no'>yi</span>, <span class='no'>vi</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"Rosenberg"</span>)</div><div class='output co'>#&gt; 
#&gt; Fail-safe N Calculation Using the Rosenberg Approach
#&gt; 
#&gt; Average Effect Size:        -0.4303
#&gt; Observed Significance Level: &lt;.0001
#&gt; Target Significance Level:   0.05
#&gt; 
#&gt; Fail-safe N: 370
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
   Wolfgang Viechtbauer <a href='mailto:wvb@metafor-project.org'>wvb@metafor-project.org</a> <a href='http://www.metafor-project.org/'>http://www.metafor-project.org/</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Wolfgang Viechtbauer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

